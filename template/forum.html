{% include 'header.html' %}
{% block head %}
<!-- 主要版面 -->
<main class='container'>
    <div class="row">
        <!-- 題目的標題列：解題狀態與題目名稱 -->
        <div class="title-pad">
            <div class="state passed">{{ question_number }}</div>
            <h1 class='title'>{{ question_title }}</h1>
        </div>

        <!-- 測資結果 -->
        <ul class="test-case-list">
            {# 
                case_results: 所有測試案例的結果
                result: 迭代於case_results中的測試結果
            #}
            {% for result in case_results %}
                {% if result.flag == 'success' %}
                    <li class="case-item passed">{{ result.number }} <span class="case-msg">{{ result.message }}</span></li>
                {% elif result.flag == 'failed' %}
                    <li class="case-item not-passed">{{ result.number }} <span class="case-msg">{{ result.message }}</span></li>
                {% else %}
                    <li class="case-item not-answered">{{ result.number }} <span class="case-msg">{{ result.message }}</span></li>
                {% endif %}
            {% endfor %}
        </ul>

        <!-- 分頁標籤 -->
        <ul class="nav nav-tabs page-tab">
            <li class="nav-item">
                <a class="nav-link" href="/question/{{ question_number }}/content">題目內容</a>
            </li>
            <li class="nav-item">
                <a class="nav-link active">討論區</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/question/{{ question_number }}/passed">通過者名單</a>
            </li>
        </ul>

        <!-- 使用者填寫留言區 -->
        <h4 class="your-comment">你的留言：</h4>
        <form class="user-comment-area">
            <textarea class="form-control txaComment" placeholder="請輸入您的留言..."></textarea>
            <button class="btn btn-block btn-primary">提交</button>
        </form>
        <hr>
        
        <!-- 留言區 -->
        <div class="comment-area">
            {# 
                comments: 所有的留言 List
                comment: 留言物件， name 留言者名稱 ； content 留言內容 ； time 留言時間
            #}
            {% for comment in comments %}
                <div class="comment-item">
                    <h5>{{ comment.name }}：</h5>
                    <p>{{ comment.content }}</p>
                    <small class="comment-time">{{ comment.time }}</small>
                </div>
            {% endfor %}
        </div>
    </div>
</main>
{% endblock head %}